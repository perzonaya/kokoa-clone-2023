"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7407],{8385:function(e,n,t){var r=t(85893),i=function(e){var n=e.hasLink,t=e.children,i=e.username;return n?(0,r.jsx)("a",{href:"/users/".concat(i),target:"_blank",children:t}):(0,r.jsx)(r.Fragment,{children:t})};n.Z=function(e){var n=e.url,t=e.className,o=void 0===t?"w-16":t,u=e.tier,s=e.username,a=void 0===s?"":s,l=e.xl,c=e.hasLink;return(0,r.jsx)(i,{hasLink:c,username:a,children:(0,r.jsxs)("div",{className:"".concat(o," relative"),children:[n?(0,r.jsx)("img",{src:n,className:"w-full rounded-full"}):(0,r.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden flex items-center justify-center bg-gray-100 ",children:(0,r.jsx)("svg",{className:"w-full h-full text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})}),u&&0!==u&&"[deleted]"!==a?(0,r.jsx)("img",{src:"/badges/shield_".concat(u,".svg"),className:"absolute ".concat(l?"right-0 w-3/12 bottom-0":" w-6 -mt-6 right-0"," ")}):null]})})}},16120:function(e,n,t){t.d(n,{Z:function(){return U}});var r=t(85893),i=t(67294),o=t(41664),u=t(52165),s=t(9008),a=t(50319),l=t(19989),c=t(8385),d=t(27590),m=t(89485),v=function(e){var n=e.avatar,t=e.username,i=e.created,o=e.comment,s=e.isOwner,a=e.isSolution,l=e.isIssueAuthor,v=e.isParentSolved,f=e.deleting,g=e.markingAsSolution,h=e.toggleIsEditing,p=e.onDelete,b=e.onMarkSolved,x=e.isEditing,y=e.onEditSubmit,w=e.commentEditText,j=e.setCommentEditText;e.tier;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-700 shadow-sm rounded-md",children:[(0,r.jsxs)("div",{className:"bg-gray-200 dark:bg-gray-900 rounded-t-md flex items-center justify-between px-2 py-2 text-sm ".concat(f?"bg-red-400":""," ").concat(a?"bg-indigo-600":""," ").concat(g?"bg-indigo-400":""),children:[(0,r.jsxs)("div",{className:"flex items-center dark:text-white ".concat(a?"text-white":""),children:[(0,r.jsx)(c.Z,{url:n,className:"w-6",hasLink:!0,username:t,xl:!1}),(0,r.jsx)("a",{href:"/users/".concat(t),target:"_blank",children:(0,r.jsx)("span",{className:"font-medium ml-2 mr-1 block",children:t})}),"commented ",u.WU(i)]}),(0,r.jsxs)("div",{className:'"flex items-center" '.concat(a?"text-white":""),children:[a&&(0,r.jsx)("span",{className:"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium leading-5 bg-gray-100 text-gray-800",children:"Solution"}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"ml-3",onClick:h,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 dark:text-white",children:(0,r.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,r.jsx)("button",{className:"ml-3",onClick:p,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 dark:text-white",children:(0,r.jsx)("path",{d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"})})})]}),l&&!v&&!a&&(0,r.jsx)("button",{className:"ml-3",onClick:b,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5 text-indigo-600",children:(0,r.jsx)("path",{d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd",fillRule:"evenodd"})})})]})]}),(0,r.jsx)("div",{className:"p-5 w-full break-words",children:x?(0,r.jsx)("form",{onSubmit:y,children:(0,r.jsx)(m.Z,{cta:"Update Comment",markdownTextValue:w,setMarkdownText:j,size:"sm"})}):(0,r.jsx)(d.default,{source:o})})]})};function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,s=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(a){s=!0,i=a}finally{try{u||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function p(){var e=h(["\n  mutation deleteIssueOrComment($objectId: Int!, $isIssue: Boolean!) {\n    deleteIssueOrComment(objectId: $objectId, isIssue: $isIssue) {\n      ok\n    }\n  }\n"]);return p=function(){return e},e}function b(){var e=h(["\n  mutation markAsSolution($commentPk: Int!) {\n    markAsSolution(commentPk: $commentPk) {\n      ok\n    }\n  }\n"]);return b=function(){return e},e}function x(){var e=h(["\n  mutation editIssueOrComment(\n    $objectId: Int!\n    $isIssue: Boolean!\n    $newComment: String!\n  ) {\n    editIssueOrComment(\n      objectId: $objectId\n      isIssue: $isIssue\n      newComment: $newComment\n    ) {\n      ok\n    }\n  }\n"]);return x=function(){return e},e}function y(){var e=h(["\n          fragment objectAuthor on IssueType {\n            user {\n              avatar\n              username\n            }\n            isOwner\n          }\n        "]);return y=function(){return e},e}function w(){var e=h(["\n          fragment objectAuthor on IssueCommentType {\n            user {\n              avatar\n              username\n            }\n            isOwner\n          }\n        "]);return w=function(){return e},e}function j(){var e=h(["\n        fragment issueComment on IssueCommentType {\n          isSolution\n        }\n      "]);return j=function(){return e},e}function I(){var e=h(["\n        fragment issue on IssueType {\n          status\n        }\n      "]);return I=function(){return e},e}function k(){var e=h(["\n          fragment objectAuthor on IssueType {\n            comment\n          }\n        "]);return k=function(){return e},e}function C(){var e=h(["\n          fragment objectAuthor on IssueCommentType {\n            comment\n          }\n        "]);return C=function(){return e},e}var S=(0,l.Ps)(p()),P=(0,l.Ps)(b()),N=(0,l.Ps)(x()),T=function(e){var n=e.avatar,t=e.username,o=e.created,u=e.comment,s=e.isOwner,c=e.isIssue,d=e.tier,m=e.objectId,f=e.isSolution,h=e.isIssueAuthor,p=e.issueId,b=e.isParentSolved,x=g((0,a.D)(S,{variables:{objectId:parseInt(m),isIssue:c},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.deleteIssueOrComment)||void 0===r?void 0:r.ok){var i,o=c?"IssueType:".concat(m):"IssueCommentType:".concat(m);i=c?(0,l.Ps)(y()):(0,l.Ps)(w()),e.writeFragment({id:o,fragment:i,data:{__typename:c?"IssueType":"IssueCommentType",user:{__typename:"UserType",id:9999999,avatar:"",username:"kimchi-ghost"},isOwner:!1}})}},onError:function(){return alert("Could not delete, try again later.")}}),2),T=x[0],O=x[1].loading,D=g((0,a.D)(P,{variables:{commentPk:parseInt(m)},onError:function(){return alert("Could not mark as solved, try again.")},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.markAsSolution)||void 0===r?void 0:r.ok){var i="IssueCommentType:".concat(m),o=(0,l.Ps)(j());e.writeFragment({id:i,fragment:o,data:{__typename:"IssueCommentType",isSolution:!0}});var u="IssueType:".concat(p),s=(0,l.Ps)(I());e.writeFragment({id:u,fragment:s,data:{__typename:"IssueType",status:"SOLVED"}})}}}),2),E=D[0],A=D[1].loading,$=(0,i.useState)(!1),z=$[0],L=$[1],F=(0,i.useState)(u),_=F[0],M=F[1],q=function(){return L((function(e){return!e}))},R=g((0,a.D)(N,{variables:{isIssue:c,objectId:parseInt(m),newComment:_},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.editIssueOrComment)||void 0===r?void 0:r.ok){q();var i,o=c?"IssueType:".concat(m):"IssueCommentType:".concat(m);i=c?(0,l.Ps)(k()):(0,l.Ps)(C()),e.writeFragment({id:o,fragment:i,data:{__typename:c?"IssueType":"IssueCommentType",comment:_}})}}}),2),V=R[0],Z=R[1].loading;return(0,r.jsx)(v,{avatar:n,username:t,created:o,comment:u,isOwner:s,tier:d,isSolution:f,isIssueAuthor:h,isParentSolved:b,deleting:O,markingAsSolution:A,toggleIsEditing:q,onDelete:function(){confirm("\uc774\uc288\ub294 \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub300\uc2e0 \uc791\uc131\uc790\uba85\uc774 \ubcc0\uacbd\ub429\ub2c8\ub2e4. \uacc4\uc18d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&T()},onMarkSolved:function(){confirm("\uc774 \ub2f5\ubcc0\uc744 \ud574\uacb0\ucc45\uc73c\ub85c \ucc44\ud0dd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&E()},isEditing:z,onEditSubmit:function(e){e.preventDefault(),Z||""===_||V()},commentEditText:_,setCommentEditText:M})},O=i.memo(T),D=function(e){var n,t,i,a,l,c,d,v,f,g,h,p,b,x,y,w,j,I,k,C,S,P,N,D,E,A,$,z=e.issueData,L=e.lectureData,F=e.courseData,_=e.newCommentText,M=e.setNewCommentText,q=e.commentMutationProgress,R=e.onSubmit,V=e.titleEditValue,Z=e.isEditingTitle,U=e.onTitleEditChange,B=e.toggleIsEditing,G=e.onTitleEditSubmit,W=e.challengeSlug;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("link",{href:"/css/mde.css",rel:"stylesheet"}),(0,r.jsxs)("title",{children:[null===(n=z.issue)||void 0===n?void 0:n.title," #",null===(t=z.issue)||void 0===t?void 0:t.id," - \ub178\ub9c8\ub4dc \ucf54\ub354 Nomad Coders"]}),(0,r.jsx)("meta",{property:"og:image",content:"https://d1telmomo28umc.cloudfront.net/media/seo/graphDefault.jpg"})]}),L?(0,r.jsx)(o.default,{href:"/[course]/lectures/[id]",as:"/".concat(null===F||void 0===F||null===(i=F.course)||void 0===i?void 0:i.slug,"/lectures/").concat(null===L||void 0===L||null===(a=L.lecture)||void 0===a?void 0:a.id),children:(0,r.jsxs)("a",{className:"text-base font-medium mb-5 block text-blue-600 dark:text-gray-300 transition-colors dark:hover:text-white hover:underline",children:["\u2190 ",null===(l=L.lecture)||void 0===l?void 0:l.publicName]})}):(0,r.jsx)(o.default,{href:"/c/".concat(W,"/lobby"),children:(0,r.jsx)("a",{className:"text-base font-medium mb-5 block text-blue-600 dark:text-gray-300 transition-colors dark:hover:text-white hover:underline ".concat(W?"text-white dark:text-white":""),children:"\u2190 Back to lobby"})}),(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[Z?(0,r.jsxs)("form",{className:"w-full flex items-stretch",onSubmit:G,children:[(0,r.jsx)("input",{autoFocus:!0,className:"form-input w-full",value:V,onChange:U}),(0,r.jsx)("button",{type:"submit",className:"inline-flex ml-3 h-full items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-400 active:bg-blue-700 transition ease-in-out duration-150",children:"Save"})]}):(0,r.jsxs)("div",{className:"flex flex-wrap",children:[(0,r.jsx)("h3",{className:"text-2xl font-medium dark:text-white",children:null===z||void 0===z||null===(c=z.issue)||void 0===c?void 0:c.title}),(0,r.jsxs)("span",{className:"text-2xl text-gray-300 ml-2 ".concat(W?"text-white":""),children:["#",null===z||void 0===z||null===(d=z.issue)||void 0===d?void 0:d.id]})]}),(null===(v=z.issue)||void 0===v?void 0:v.isOwner)&&(0,r.jsx)("button",{className:"ml-3 cursor-pointer",onClick:B,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 dark:text-white",children:(0,r.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]}),(0,r.jsxs)("div",{className:"mt-1 mb-5 flex items-center",children:["OPEN"===(null===(f=z.issue)||void 0===f?void 0:f.status)&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-sm font-medium leading-5 bg-green-600 text-white",children:[(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 text-white mr-1",children:(0,r.jsx)("path",{d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd",fillRule:"evenodd"})}),"Open"]}),"SOLVED"===(null===(g=z.issue)||void 0===g?void 0:g.status)&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-sm font-medium leading-5 bg-indigo-600 text-white",children:[(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4 text-white mr-1",children:(0,r.jsx)("path",{d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd",fillRule:"evenodd"})}),"Solved"]}),(0,r.jsxs)("span",{className:"text-gray-500 text-sm ml-2  dark:text-gray-300 ".concat(W?"text-white dark:text-white":""),children:[(0,r.jsx)("span",{className:"font-medium",children:null===(h=z.issue)||void 0===h||null===(p=h.user)||void 0===p?void 0:p.username})," ","opened this issue ",u.WU(null===(b=z.issue)||void 0===b?void 0:b.created)," \xb7"," ",null===z||void 0===z||null===(x=z.issue)||void 0===x||null===(y=x.comments)||void 0===y?void 0:y.length," ",1===(null===z||void 0===z||null===(w=z.issue)||void 0===w||null===(j=w.comments)||void 0===j?void 0:j.length)?"comment":"comments"]})]}),z.issue&&(0,r.jsx)(O,{objectId:null===(I=z.issue)||void 0===I?void 0:I.id,isIssue:!0,isOwner:(null===(k=z.issue)||void 0===k?void 0:k.isOwner)||!1,avatar:(null===(C=z.issue)||void 0===C||null===(S=C.user)||void 0===S?void 0:S.avatar)||"",username:(null===(P=z.issue)||void 0===P||null===(N=P.user)||void 0===N?void 0:N.username)||"",tier:z.issue.user.tier,created:null===(D=z.issue)||void 0===D?void 0:D.created,comment:null===(E=z.issue)||void 0===E?void 0:E.comment}),null===(A=z.issue)||void 0===A||null===($=A.comments)||void 0===$?void 0:$.map((function(e){var n,t,i;return e&&(0,r.jsx)("div",{className:"mt-10",children:(0,r.jsx)(T,{issueId:(null===(n=z.issue)||void 0===n?void 0:n.id)||"",isIssue:!1,isIssueAuthor:(null===(t=z.issue)||void 0===t?void 0:t.isOwner)||!1,created:e.created,objectId:e.id,tier:e.user.tier,username:e.user.username||"",avatar:e.user.avatar||"",isOwner:e.isOwner||!1,comment:e.comment,isSolution:e.isSolution,isParentSolved:"SOLVED"===(null===(i=z.issue)||void 0===i?void 0:i.status)})},e.id)})),(0,r.jsx)("div",{className:"mt-16 pt-10 border-gray-200 dark:border-gray-500 border-t",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow-sm rounded-md p-5",children:(0,r.jsx)("form",{onSubmit:R,children:(0,r.jsx)(m.Z,{setMarkdownText:M,markdownTextValue:_,cta:q?"Posting":"Comment",size:"sm"})})})})]})]})},E=t(33306);function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,s=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(a){s=!0,i=a}finally{try{u||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||F(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function L(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,n){if(e){if("string"===typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}function _(){var e=z(["\n  mutation commentOnIssue($comment: String!, $issuePk: Int!) {\n    commentOnIssue(comment: $comment, issuePk: $issuePk) {\n      comment {\n        ...IssueCommentParts\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function M(){var e=z(["\n  mutation editTitle($newTitle: String!, $issuePk: Int!) {\n    editTitle(newTitle: $newTitle, issuePk: $issuePk) {\n      ok\n    }\n  }\n"]);return M=function(){return e},e}function q(){var e=z(["\n        fragment issueFragment on IssueType {\n          comments {\n            id\n          }\n        }\n      "]);return q=function(){return e},e}function R(){var e=z(["\n        fragment issueFragment on IssueType {\n          title\n        }\n      "]);return R=function(){return e},e}var V=(0,l.Ps)(_(),E.hq),Z=(0,l.Ps)(M()),U=function(e){var n,t,o,u=e.issueData,s=e.lectureData,c=e.challengeSlug,d=e.courseData,m=(0,i.useState)(""),v=m[0],f=m[1],g=$((0,a.D)(V,{variables:{comment:v,issuePk:parseInt((null===(n=u.issue)||void 0===n?void 0:n.id)||"0")},update:function(e,n){var t,r;if(null===(t=n.data)||void 0===t||null===(r=t.commentOnIssue)||void 0===r?void 0:r.comment){var i,o="IssueType:".concat(null===(i=u.issue)||void 0===i?void 0:i.id),s=(0,l.Ps)(q()),a=e.readFragment({id:o,fragment:s});a&&"comments"in a&&(e.writeFragment({id:o,fragment:s,data:{__typename:"IssueType",comments:L(a.comments).concat([n.data.commentOnIssue.comment])}}),f("### Add your comment here!"))}}}),2),h=g[0],p=g[1].loading,b=(0,i.useState)(null===(t=u.issue)||void 0===t?void 0:t.title),x=b[0],y=b[1],w=(0,i.useState)(!1),j=w[0],I=w[1],k=function(){return I((function(e){return!e}))},C=$((0,a.D)(Z,{variables:{newTitle:x||"",issuePk:parseInt((null===(o=u.issue)||void 0===o?void 0:o.id)||"0")},update:function(e,n){var t,r;if((null===(t=n.data)||void 0===t||null===(r=t.editTitle)||void 0===r?void 0:r.ok)&&u.issue){var i;k();var o="IssueType:".concat(null===(i=u.issue)||void 0===i?void 0:i.id),s=(0,l.Ps)(R());e.writeFragment({id:o,fragment:s,data:{__typename:"IssueType",title:x}})}}}),2),S=C[0],P=C[1].loading;return(0,r.jsx)(D,{challengeSlug:c,issueData:u,lectureData:s,courseData:d,newCommentText:v,setNewCommentText:f,onSubmit:function(e){e.preventDefault(),""===v||p||h()},commentMutationProgress:p,titleEditValue:x,isEditingTitle:j,onTitleEditChange:function(e){return y(e.currentTarget.value)},toggleIsEditing:k,onTitleEditSubmit:function(e){e.preventDefault(),u.issue&&""!==x&&!P&&S()}})}},17407:function(e,n,t){t.d(n,{AH:function(){return U},ZP:function(){return H}});var r=t(85893),i=t(50542),o=t(11163),u=t(67294),s=t(19989),a=t(50319),l=t(71641),c=t(64064),d=t(9008),m=t(41664),v=t(16120),f=function(){var e=(0,u.useState)(window.outerWidth),n=e[0],t=e[1];return(0,u.useEffect)((function(){window.addEventListener("resize",(function(){return t(window.outerWidth)}))}),[]),n<=1e3},g=t(39425),h=t(5152),p=(0,h.default)((function(){return t.e(1398).then(t.bind(t,51398))}),{loadableGenerated:{webpack:function(){return[51398]}}}),b=(0,h.default)((function(){return t.e(639).then(t.bind(t,90639))}),{loadableGenerated:{webpack:function(){return[90639]}}}),x=(0,h.default)((function(){return t.e(9196).then(t.bind(t,39196))}),{loadableGenerated:{webpack:function(){return[39196]}}}),y=(0,h.default)((function(){return t.e(5213).then(t.bind(t,25213))}),{loadableGenerated:{webpack:function(){return[25213]}}}),w=(0,h.default)((function(){return Promise.all([t.e(7112),t.e(2814),t.e(5460),t.e(4842)]).then(t.bind(t,43884))}),{loadableGenerated:{webpack:function(){return[43884]}}}),j=(0,h.default)((function(){return Promise.all([t.e(8523),t.e(1385),t.e(2814),t.e(7379),t.e(2283),t.e(4365),t.e(9471),t.e(3702),t.e(6733),t.e(4803),t.e(9933)]).then(t.bind(t,39933))}),{loadableGenerated:{webpack:function(){return[39933]}}}),I=(0,h.default)((function(){return Promise.all([t.e(8523),t.e(1385),t.e(2814),t.e(7379),t.e(6733)]).then(t.bind(t,96733))}),{loadableGenerated:{webpack:function(){return[96733]}}}),k=u.memo(w),C=function(e){var n,t,i,o,u,s,a,l=e.lectureData,c=e.courseData,h=e.toggleSidebar,w=e.sidebarVisible,C=e.onPrevious,S=e.onContinue,P=e.courseFinished,N=e.toggleCourseFinished,T=e.isLoggedIn,O=e.isComment,D=e.commentData,E=e.videoRef,A=e.seekTo,$=e.isIssue,z=e.issueData,L=e.onDuration,F=f();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{children:(0,r.jsx)("script",{src:"https://embed.videodelivery.net/embed/sdk.latest.js"})}),(0,r.jsx)(g.Z,{pageTitle:"".concat((null===l||void 0===l||null===(n=l.lecture)||void 0===n?void 0:n.publicName)||"Lecture"," \u2013 \ub178\ub9c8\ub4dc \ucf54\ub354 Nomad Coders"),ogTitle:"".concat((null===l||void 0===l||null===(t=l.lecture)||void 0===t?void 0:t.publicName)||"Lecture"," \u2013 \ub178\ub9c8\ub4dc \ucf54\ub354 Nomad Coders"),description:"Watch now",path:"/courses"}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 ",children:[(0,r.jsx)(p,{courseData:c,toggleSidebar:h,onPrevious:C,onContinue:S,sidebarVisible:w}),(0,r.jsxs)("div",{className:"pt-12",children:[w&&(0,r.jsx)(b,{toggleSidebar:F?h:function(){return null},lectureData:l,courseData:c}),(0,r.jsx)("div",{className:"".concat(w?"ml-96 hidden lg:block":"col-span-5"," pb-20 relative pt-10 px-5 xl:px-16 min-h-screen"),style:{width:w?"calc(100% - 24rem)":"100%"},children:(null===l||void 0===l?void 0:l.lecture)&&c?(0,r.jsx)(r.Fragment,{children:l.lecture.freePreview||l.lecture.canSee?$&&(null===z||void 0===z?void 0:z.issue)?(0,r.jsx)(v.Z,{lectureData:l,courseData:c,issueData:z}):O&&(null===D||void 0===D?void 0:D.comment)?(0,r.jsxs)("div",{className:"w-full",children:[(null===l||void 0===l?void 0:l.lecture)&&(0,r.jsx)("h3",{className:"text-xl font-medium mb-5 dark:text-white",children:l.lecture.publicName}),(0,r.jsx)(m.default,{href:"/[course]/lectures/[id]",as:"/".concat(null===c||void 0===c||null===(i=c.course)||void 0===i?void 0:i.slug,"/lectures/").concat(null===l||void 0===l||null===(o=l.lecture)||void 0===o?void 0:o.id),children:(0,r.jsxs)("a",{className:"text-blue-600 dark:text-white underline text-lg font-medium mb-10 block",children:["\u2190 ",O&&"See all comments."]})}),(0,r.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(D.comment.isOwner||!D.comment.user.amazing)&&(0,r.jsx)(I,{isUpvoted:D.comment.isUpvoted,upvotes:D.comment.upvotes,isOutsider:!1,courseSlug:null===c||void 0===c||null===(u=c.course)||void 0===u?void 0:u.slug,lectureId:parseInt((null===l||void 0===l||null===(s=l.lecture)||void 0===s?void 0:s.id)||"0",10),isReply:!1,commentId:parseInt(D.comment.id,10),tier:D.comment.user.tier,isOwner:D.comment.isOwner,avatar:D.comment.user.avatar,author:D.comment.user.username,timestamp:D.comment.created,content:D.comment.content,replies:D.comment.replies})})]}):(0,r.jsxs)(r.Fragment,{children:[P&&(0,r.jsx)("div",{className:"mt-5",children:(0,r.jsx)(x,{toggleCourseFinished:N})}),(0,r.jsx)(k,{onDuration:L,videoRef:E,onContinue:S,challengeInfo:l.lecture.course.challengeInfo,publicName:l.lecture.publicName||"",hasChallenge:l.lecture.course.hasChallenge,promptChallenge:l.lecture.course.promptChallenge,courseSlug:null===(a=c.course)||void 0===a?void 0:a.slug,githubCommit:l.lecture.githubCommit,text:l.lecture.text,video:l.lecture.video,id:l.lecture.id}),(l.lecture.canSee||l.lecture.freePreview)&&(0,r.jsx)(j,{isOutsider:!l.lecture.canSee&&l.lecture.freePreview,commentsEnabled:l.lecture.commentsEnabled,lectureData:l,seekTo:A})]}):(0,r.jsx)(y,{isLoggedIn:T,courseData:c})}):(0,r.jsx)("div",{className:"bg-white dark:bg-gray-700 w-full pb-2/4 shadow-xl rounded"})})]})]})]})},S=t(28879),P=t(33306),N=t(19733);function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,s=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(a){s=!0,i=a}finally{try{u||null==t.return||t.return()}finally{if(s)throw i}}return o}}(e,n)||z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function $(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"===typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,n):void 0}}function L(){var e=A(["\n  query lecture($pk: Int!) {\n    lecture(pk: $pk) {\n      id\n      publicName\n      canSee\n      freePreview\n      video\n      githubCommit\n      text\n      isCompleted\n      noteCount\n      feebackPrompt\n      commentsEnabled\n      commentCount\n      issueCount\n      duration\n      course {\n        slug\n        hasChallenge\n        promptChallenge\n        challengeInfo\n      }\n    }\n  }\n"]);return L=function(){return e},e}function F(){var e=A(["\n  query issue($issuePk: Int!) {\n    issue(issuePk: $issuePk) {\n      id\n      title\n      status\n      comment\n      isOwner\n      created\n      comments {\n        ...IssueCommentParts\n      }\n      user {\n        username\n        avatar\n        amazing\n        tier\n      }\n      lecture {\n        id\n        publicName\n      }\n    }\n  }\n  ","\n"]);return F=function(){return e},e}function _(){var e=A(["\n  query getComment($commentPk: Int!) {\n    comment(commentPk: $commentPk) {\n      ...CommentParts\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function M(){var e=A(["\n  mutation completeLecture($pk: Int!) {\n    completeLecture(pk: $pk) {\n      ok\n    }\n  }\n"]);return M=function(){return e},e}function q(){var e=A(["\n  mutation completeCourse($courseSlug: String!) {\n    completeCourse(courseSlug: $courseSlug) {\n      certificate {\n        uuid\n        master {\n          name\n          kind\n          tech\n        }\n      }\n    }\n  }\n"]);return q=function(){return e},e}function R(){var e=A(["\n  mutation reportDuration($lecturePk: Int!, $duration: Int!) {\n    reportDuration(lecturePk: $lecturePk, duration: $duration) {\n      ok\n    }\n  }\n"]);return R=function(){return e},e}function V(){var e=A(["\n        fragment userEnrollmentFragment on UserType {\n          certificates {\n            uuid\n          }\n        }\n      "]);return V=function(){return e},e}var Z=(0,s.Ps)(L()),U=(0,s.Ps)(F(),P.hq),B=(0,s.Ps)(_(),P.ZS),G=(0,s.Ps)(M()),W=(0,s.Ps)(q()),Q=(0,s.Ps)(R()),H=function(e){var n,t,d,m,v=e.isComment,g=void 0!==v&&v,h=e.isIssue,p=void 0!==h&&h,b=(0,S.Z)(),x=f(),y=(0,u.useState)(!0),w=y[0],j=y[1];(0,u.useEffect)((function(){x&&j(!1)}),[x]);var I=(0,o.useRouter)(),k=parseInt((null===I||void 0===I||null===(n=I.query)||void 0===n?void 0:n.id)||"0",10),P=(0,u.createRef)(),T=(0,c.Z)(null===I||void 0===I||null===(t=I.query)||void 0===t||null===(d=t.course)||void 0===d?void 0:d.toString()).data,O=(0,N.Z)().data,A=E((0,a.D)(W,{update:function(e,n){var t,r;if((null===(t=n.data)||void 0===t||null===(r=t.completeCourse)||void 0===r?void 0:r.certificate)&&(null===O||void 0===O?void 0:O.me)){var i,o="user:".concat(null===O||void 0===O||null===(i=O.me)||void 0===i?void 0:i.username),u=(0,s.Ps)(V());try{var a,l,c=e.readFragment({id:o,fragment:u});if(c&&"certificates"in c)e.writeFragment({id:o,fragment:u,data:{__typename:"UserType",certificates:[null===(a=n.data)||void 0===a||null===(l=a.completeCourse)||void 0===l?void 0:l.certificate].concat($(c.certificates))}}),re()}catch(d){console.log(d)}}}}),1)[0],z=(0,u.useState)(!1),L=z[0],F=z[1],_=E((0,a.D)(G,{update:function(e,n){var t,r;if((null===(t=n.data)||void 0===t||null===(r=t.completeLecture)||void 0===r?void 0:r.ok)&&(null===T||void 0===T?void 0:T.course)&&(null===H||void 0===H?void 0:H.lecture)){var i,o=e.readQuery({query:Z,variables:{pk:parseInt(null===H||void 0===H||null===(i=H.lecture)||void 0===i?void 0:i.id)}});e.writeQuery({query:Z,data:{lecture:D({},null===o||void 0===o?void 0:o.lecture,{isCompleted:!0})}});var u=e.readQuery({query:c.f,variables:{slug:T.course.slug}});(null===u||void 0===u?void 0:u.course)&&setTimeout((function(){var n,t;if((null===(n=u.course)||void 0===n?void 0:n.progress)&&T.course){var r=(null===u||void 0===u||null===(t=u.course)||void 0===t?void 0:t.progress)+1;r===u.course.progressLectures&&T.course.isComplete&&A({variables:{courseSlug:T.course.slug}}),e.writeQuery({query:c.f,data:{course:D({},u.course,{progress:r})}})}}),1e3)}},onCompleted:function(){F(!1),ie(!0)}}),1)[0],M=parseInt(I.query.commentId||"0",10),q=(0,l.a)(B,{variables:{commentPk:M},skip:void 0===I.query.commentId||!g}).data;(0,u.useEffect)((function(){var e,n,t;(null===q||void 0===q||null===(e=q.comment)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.id)&&I.replace("/[course]/lectures/[id]/comments/[commentId]","/".concat(null===T||void 0===T||null===(t=T.course)||void 0===t?void 0:t.slug,"/lectures/").concat(k,"/comments/").concat(M))}),[q,T]);var R=(0,l.a)(U,{variables:{issuePk:parseInt(I.query.issueId||"0",10)},skip:void 0===I.query.issueId||!p}).data,H=(0,l.a)(Z,{variables:{pk:k},skip:void 0===(null===I||void 0===I||null===(m=I.query)||void 0===m?void 0:m.id)}).data,J=E((0,a.D)(Q),1)[0],K=(0,u.useState)(),X=K[0],Y=K[1],ee=(0,u.useState)(!1),ne=ee[0],te=ee[1],re=function(){return te((function(e){return!e}))};(0,u.useEffect)((function(){var e;(null===T||void 0===T||null===(e=T.course)||void 0===e?void 0:e.sections)&&Y(T.course.sections.map((function(e){return e.lectures&&e.lectures.map((function(e){return e}))})).flat(1))}),[T]);var ie=function(e){if(H&&X&&T&&T.course&&null!==H.lecture&&H.lecture.id){var n=X.findIndex((function(e){return e.id===H.lecture.id}));if(-1!=n)if(e){if(n+1<X.length){var t,r;i.ZP.event({category:"Courses",action:"Watched ".concat(null===(t=H.lecture)||void 0===t?void 0:t.id,":").concat(null===O||void 0===O||null===(r=O.me)||void 0===r?void 0:r.username,":").concat(H.lecture.course.slug)});try{window.dataLayer&&window.dataLayer.push({event:"watch_lecture",course:H.lecture.course.slug})}catch(o){}I.push("/[course]/lectures/[id]","/".concat(T.course.slug,"/lectures/").concat(X[n+1].id))}}else n-1>=0&&I.push("/[course]/lectures/[id]","/".concat(T.course.slug,"/lectures/").concat(X[n-1].id))}},oe=function(e){var n,t;if(!L)if(null===T||void 0===T||null===(t=T.course)||void 0===t?void 0:t.isEnrolled){if(e&&(null===H||void 0===H?void 0:H.lecture)&&(null===T||void 0===T?void 0:T.course)&&!H.lecture.isCompleted){F(!0);var r=parseInt(H.lecture.id,10);return void _({variables:{pk:r}})}}else ie(e);(null===H||void 0===H||null===(n=H.lecture)||void 0===n?void 0:n.isCompleted)&&e?ie(e):e||ie(!1)};return(0,u.useEffect)((function(){1==navigator.webdriver&&(window.location.href="http://google.com")}),[P]),(0,r.jsx)(C,{issueData:R,commentData:q,lectureData:H,courseData:T,toggleSidebar:function(){return j((function(e){return!e}))},sidebarVisible:w,onPrevious:function(){return oe(!1)},onContinue:function(){return oe(!0)},courseFinished:ne,toggleCourseFinished:re,isLoggedIn:b,isComment:g,isIssue:p,videoRef:P,seekTo:function(e,n){if(P.current){window.scrollTo(0,200);var t=60*e+n;P.current.seekTo(t,"seconds")}},onDuration:function(e){var n;"serranoarevalo"===(null===O||void 0===O||null===(n=O.me)||void 0===n?void 0:n.username)&&J({variables:{lecturePk:k,duration:Math.floor(e)}})}})}},64064:function(e,n,t){t.d(n,{f:function(){return s}});var r=t(33306),i=t(19989),o=t(71641);function u(){var e,n,t=(e=["\n  query courseDetail($slug: String!) {\n    course(slug: $slug) {\n      ...CourseCard\n      name\n      slug\n      isEnrolled\n      isFree\n      isReward\n      isForSale\n      isComplete\n      level {\n        name\n        color\n      }\n      hasTestimonials\n      totalPrice\n      adminText\n      sections {\n        id\n        course {\n          slug\n        }\n        order\n        publicName\n        lectures {\n          id\n          publicName\n          canSee\n          isCompleted\n          freePreview\n        }\n      }\n      bonuses {\n        ...CourseCard\n      }\n    }\n  }\n  ","\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return u=function(){return t},t}var s=(0,i.Ps)(u(),r.xe);n.Z=function(e){return(0,o.a)(s,{variables:{slug:e},skip:!e,fetchPolicy:"cache-and-network"})}}}]);